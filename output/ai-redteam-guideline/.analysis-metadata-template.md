# Analysis Report Template
# 분석 보고서 템플릿

**USAGE / 사용법**: All analysis agents MUST include this metadata header in their reports to enable duplicate detection.

**사용 목적**: 모든 분석 에이전트는 중복 감지를 위해 보고서에 이 메타데이터 헤더를 포함해야 합니다.

---

## Metadata Header / 메타데이터 헤더

```markdown
# {Analysis Report Title}

**Analysis Metadata / 분석 메타데이터**
- **Source File / 원본 파일**: `path/to/source-file.pdf`
- **Source Modified / 원본 수정일**: 2026-02-10 10:30:00
- **Source Checksum / 원본 체크섬**: sha256:abc123def456...
- **Analysis Date / 분석 일자**: 2026-02-10 11:00:00
- **Analyzer / 분석자**: reference-doc-agent
- **Analysis Version / 분석 버전**: 1.0

---

## Executive Summary / 요약

{Your analysis summary here}

---

## Detailed Analysis / 상세 분석

{Your detailed analysis here}

---

*Report generated by {agent-name} on {date}*
```

---

## How to Generate Metadata / 메타데이터 생성 방법

### 1. Get Source File Modification Time / 원본 파일 수정 시간 확인
```bash
stat -f "%Sm" -t "%Y-%m-%d %H:%M:%S" /path/to/source-file.pdf
```

### 2. Calculate Source File Checksum / 원본 파일 체크섬 계산
```bash
shasum -a 256 /path/to/source-file.pdf
```

### 3. Get Current Timestamp / 현재 타임스탬프 확인
```bash
date "+%Y-%m-%d %H:%M:%S"
```

---

## Duplicate Detection Workflow / 중복 감지 워크플로우

### Before Starting Analysis / 분석 시작 전

```bash
#!/bin/bash
# Check if re-analysis is needed

SOURCE_FILE="$1"
ANALYSIS_REPORT="$2"

if [ ! -f "$ANALYSIS_REPORT" ]; then
  echo "No previous analysis - proceed with new analysis"
  exit 0
fi

# Extract recorded checksum
RECORDED_HASH=$(grep "Source Checksum:" "$ANALYSIS_REPORT" | sed 's/.*sha256://')

# Calculate current checksum
CURRENT_HASH=$(shasum -a 256 "$SOURCE_FILE" | cut -d' ' -f1)

if [ "$RECORDED_HASH" = "$CURRENT_HASH" ]; then
  echo "File unchanged - skipping re-analysis"
  echo "Existing analysis: $ANALYSIS_REPORT"
  exit 1
else
  echo "File has changed - proceeding with re-analysis"
  echo "Old hash: $RECORDED_HASH"
  echo "New hash: $CURRENT_HASH"
  exit 0
fi
```

---

## Agent-Specific Examples / 에이전트별 예제

### reference-doc-agent
```markdown
# OWASP GenAI Red Teaming Guide - Normative Analysis

**Analysis Metadata**
- **Source File**: `reference-docs/GenAI-Red-Teaming-Guide-1.0.2.17.25.pdf`
- **Source Modified**: 2025-12-15 10:00:00
- **Source Checksum**: sha256:7a8b9c0d1e2f3g4h5i6j7k8l9m0n1o2p
- **Analysis Date**: 2026-02-09 14:30:00
- **Analyzer**: reference-doc-agent
- **Analysis Version**: 1.0
```

### standards-agent
```markdown
# ISO/IEC 29119 Conformance Analysis

**Analysis Metadata**
- **Source File**: `output/ai-redteam-guideline/phase-3-normative-core.md`
- **Source Modified**: 2026-02-10 07:57:00
- **Source Checksum**: sha256:a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
- **Analysis Date**: 2026-02-10 08:15:00
- **Analyzer**: sw-testing-standards-agent
- **Analysis Version**: 2.0
```

---

## Benefits / 이점

✅ **Prevents duplicate work** / 중복 작업 방지
✅ **Saves API costs** / API 비용 절감
✅ **Faster turnaround** / 빠른 처리 시간
✅ **Consistent results** / 일관된 결과
✅ **Traceability** / 추적 가능성
✅ **Easy rollback** / 쉬운 롤백

---

**Created**: 2026-02-10
**Purpose**: Enable duplicate detection for analysis agents
**Version**: 1.0
